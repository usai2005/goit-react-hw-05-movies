{"version":3,"file":"static/js/310.9f90ad01.chunk.js","mappings":"iSAGaA,EAAOC,EAAAA,GAAAA,KAAH,4gBAgCJC,EAAgBD,EAAAA,GAAAA,IAAH,6IAQbE,EAAOF,EAAAA,GAAAA,GAAH,uGAQJG,GAAWH,EAAAA,EAAAA,IAAOI,EAAAA,GAAPJ,CAAH,4F,SCoDrB,EAjGe,WAAa,IAAD,EACzB,GAAwCK,EAAAA,EAAAA,UAAS,MAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,CAAC,GAAzD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAkCL,EAAAA,EAAAA,WAAS,GAA3C,eAAOM,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAsCT,EAAAA,EAAAA,UAAS,IAA/C,eAAOU,EAAP,KAAoBC,EAApB,KACMC,EAAa,UAAGR,EAAaS,IAAI,gBAApB,QAAgC,IAEnDC,EAAAA,EAAAA,YAAU,YACHJ,GAAeE,GAClBD,EAAeP,EAGlB,GAAE,KAEHU,EAAAA,EAAAA,YAAU,WAAM,wCAMd,sGACyBC,MAAM,GAAD,OACvBC,EAAAA,EADuB,yBACEN,EADF,8CAE1BO,EAAAA,GAHJ,cACQC,EADR,gBAMwBA,EAASC,OANjC,cAMQC,EANR,yBAOSA,GAPT,4CANc,sBACM,KAAhBV,IACJH,GAAa,GAEbL,EAAgB,MAJF,0CAgBdmB,GACGC,MAAK,SAAAF,GACJ,IAAMG,EAAaH,EAAQA,QAE3BlB,EAAgBqB,EACjB,IACAC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,EAAlB,IAETG,SAAQ,WACPrB,GAAa,EACd,IACJ,GAAE,CAACG,IAiBJ,OACE,iCACE,UAAChB,EAAD,CAAMmC,SATW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cAEftB,EAAe,SAAD,OAAUqB,EAAKE,SAASxB,YAAYyB,OACnD,EAIG,WACE,kBACEC,KAAK,OACLC,KAAK,cACLF,MAAOvB,EACP0B,SAtBkB,SAAAR,GACxB,IAAMS,EAAYT,EAAEU,OAAOL,MAGvB9B,EADU,KAAdkC,EACoB,CAAC,EACD,CAAEE,MAAOF,GAC9B,KAkBK,mBAAQH,KAAK,SAAb,SAAsB,cAEvB9B,IACC,SAACV,EAAD,WACE,SAAC,KAAD,CACE8C,YAAY,UACZC,YAAY,IACZC,kBAAkB,OAClBC,MAAM,KACNC,SAAS,OAIf,SAACjD,EAAD,UACGI,GACCA,EAAa8C,KAAI,SAAAC,GACf,OACE,yBACE,SAAClD,EAAD,CAAUmD,GAAE,UAAKD,EAAME,IAAMC,MAAO,CAAEC,KAAM5C,GAA5C,SACGwC,EAAMK,MAAQL,EAAMK,MAAQL,EAAMX,QAF9BW,EAAME,GAMlB,QAIV,C,6ECrGM,IAAMjC,EAAU,CACrBqC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIOzC,EAAW,8B,sBCTxB,SAAS0C,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChB9B,EAAQ+B,EAAK/B,KAInB,CAHE,MAAOR,GAEP,YADAkC,EAAOlC,EAET,CAEIuC,EAAKC,KACPP,EAAQzB,GAERiC,QAAQR,QAAQzB,GAAOb,KAAKwC,EAAOC,EAEvC,CAEe,SAASM,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIN,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMW,EAAGK,MAAMJ,EAAME,GAEzB,SAASX,EAAM3B,GACbuB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQ5B,EAClE,CAEA,SAAS4B,EAAOtC,GACdiC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAAStC,EACnE,CAEAqC,OAAMc,EACR,GACF,CACF,C","sources":["pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx","services/ApiData.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Form = styled.form`\n  display: flex;\n\n  margin-bottom: 15px;\n\n  > input {\n    padding-left: 15px;\n    margin-right: 10px;\n    font-size: 20px;\n    width: 250px;\n    height: 35px;\n    border-radius: 5px;\n  }\n\n  > button {\n    font-size: 16px;\n    border-radius: 5px;\n    cursor: pointer;\n    color: #212121;\n    font-weight: 500;\n\n    border: 2px solid #212121;\n    border-radius: 5px;\n  }\n\n  > button:hover {\n    background-color: #ff4500;\n    border-color: #ff4500;\n    color: #ffffff;\n  }\n`;\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 20px;\n  padding-bottom: 20px;\n`;\n\nexport const List = styled.ul`\n  padding: 0 16px;\n\n  > li:not(:last-child) {\n    margin-bottom: 5px;\n  }\n`;\n\nexport const FilmLink = styled(Link)`\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0.03em;\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { RotatingLines } from 'react-loader-spinner';\nimport { options, BASE_URL } from '../../services/ApiData';\nimport { LoaderWrapper, Form, List, FilmLink } from './Movies.styled';\n\nconst Movies = function () {\n  const [searchResult, setSearchResult] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const [searchQuery, setSearchQuery] = useState('');\n  const onChangeQuery = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!searchQuery && onChangeQuery) {\n      setSearchQuery(searchParams);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (searchQuery === '') return;\n    setIsLoading(true);\n\n    setSearchResult(null);\n\n    async function searchMovie() {\n      const response = await fetch(\n        `${BASE_URL}/search/movie?${searchQuery}&include_adult=false&language=en-US&page=1`,\n        options\n      );\n\n      const results = await response.json();\n      return results;\n    }\n\n    searchMovie()\n      .then(results => {\n        const moviesList = results.results;\n\n        setSearchResult(moviesList);\n      })\n      .catch(err => console.error(err))\n\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [searchQuery]);\n\n  const updateQueryString = e => {\n    const movieName = e.target.value;\n\n    movieName === ''\n      ? setSearchParams({})\n      : setSearchParams({ query: movieName });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n\n    setSearchQuery(`query=${form.elements.searchQuery.value}`);\n  };\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"searchQuery\"\n          value={onChangeQuery}\n          onChange={updateQueryString}\n        />\n        <button type=\"submit\">Search</button>\n      </Form>\n      {isLoading && (\n        <LoaderWrapper>\n          <RotatingLines\n            strokeColor=\"#FF0000\"\n            strokeWidth=\"5\"\n            animationDuration=\"0.75\"\n            width=\"50\"\n            visible={true}\n          />\n        </LoaderWrapper>\n      )}\n      <List>\n        {searchResult &&\n          searchResult.map(movie => {\n            return (\n              <li key={movie.id}>\n                <FilmLink to={`${movie.id}`} state={{ from: location }}>\n                  {movie.title ? movie.title : movie.name}\n                </FilmLink>\n              </li>\n            );\n          })}\n      </List>\n    </>\n  );\n};\n\nexport default Movies;\n","export const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMGUxN2RiYWMzM2I5YjY2YTE1OGFjMWQ5ZjBiNDgzZiIsInN1YiI6IjY0NmFhMTAxMmJjZjY3MDEzODk1NWI2MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.SDn_VnUi_rZiJUD7l1IkM4cvRuTnV717d1ByGV3DRUI',\n  },\n};\n\nexport const BASE_URL = 'https://api.themoviedb.org/3';\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["Form","styled","LoaderWrapper","List","FilmLink","Link","useState","searchResult","setSearchResult","useSearchParams","searchParams","setSearchParams","isLoading","setIsLoading","location","useLocation","searchQuery","setSearchQuery","onChangeQuery","get","useEffect","fetch","BASE_URL","options","response","json","results","searchMovie","then","moviesList","catch","err","console","error","finally","onSubmit","e","preventDefault","form","currentTarget","elements","value","type","name","onChange","movieName","target","query","strokeColor","strokeWidth","animationDuration","width","visible","map","movie","to","id","state","from","title","method","headers","accept","Authorization","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined"],"sourceRoot":""}